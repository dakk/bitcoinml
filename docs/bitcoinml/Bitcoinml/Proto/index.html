<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Proto (bitcoinml.Bitcoinml.Proto)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">bitcoinml</a> &#x00BB; <a href="../index.html">Bitcoinml</a> &#x00BB; Proto</nav><h1>Module <code>Bitcoinml.Proto</code></h1></header><dl><dt class="spec type" id="type-header"><a href="#type-header" class="anchor"></a><code><span class="keyword">type </span>header</code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-header.magic" class="anchored"><td class="def field"><a href="#type-header.magic" class="anchor"></a><code>magic : Stdint.int32;</code></td></tr><tr id="type-header.command" class="anchored"><td class="def field"><a href="#type-header.command" class="anchor"></a><code>command : string;</code></td></tr><tr id="type-header.length" class="anchored"><td class="def field"><a href="#type-header.length" class="anchor"></a><code>length : Stdint.uint32;</code></td></tr><tr id="type-header.checksum" class="anchored"><td class="def field"><a href="#type-header.checksum" class="anchor"></a><code>checksum : string;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-invvect"><a href="#type-invvect" class="anchor"></a><code><span class="keyword">type </span>invvect</code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-invvect.INV_ERROR" class="anchored"><td class="def constructor"><a href="#type-invvect.INV_ERROR" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">INV_ERROR</span></code></td></tr><tr id="type-invvect.INV_TX" class="anchored"><td class="def constructor"><a href="#type-invvect.INV_TX" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">INV_TX</span><span class="keyword"> of </span><a href="../Hash/index.html#type-t">Hash.t</a></code></td></tr><tr id="type-invvect.INV_BLOCK" class="anchored"><td class="def constructor"><a href="#type-invvect.INV_BLOCK" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">INV_BLOCK</span><span class="keyword"> of </span><a href="../Hash/index.html#type-t">Hash.t</a></code></td></tr><tr id="type-invvect.INV_FILTERED_BLOCK" class="anchored"><td class="def constructor"><a href="#type-invvect.INV_FILTERED_BLOCK" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">INV_FILTERED_BLOCK</span><span class="keyword"> of </span><a href="../Hash/index.html#type-t">Hash.t</a></code></td></tr></table></dt><dt class="spec type" id="type-addr"><a href="#type-addr" class="anchor"></a><code><span class="keyword">type </span>addr</code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-addr.services" class="anchored"><td class="def field"><a href="#type-addr.services" class="anchor"></a><code>services : Stdint.uint64;</code></td></tr><tr id="type-addr.address" class="anchored"><td class="def field"><a href="#type-addr.address" class="anchor"></a><code>address : string;</code></td></tr><tr id="type-addr.port" class="anchored"><td class="def field"><a href="#type-addr.port" class="anchor"></a><code>port : Stdint.uint16;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-inv"><a href="#type-inv" class="anchor"></a><code><span class="keyword">type </span>inv</code><code><span class="keyword"> = </span><a href="index.html#type-invvect">invvect</a> list</code></dt><dt class="spec type" id="type-getdata"><a href="#type-getdata" class="anchor"></a><code><span class="keyword">type </span>getdata</code><code><span class="keyword"> = </span><a href="index.html#type-inv">inv</a></code></dt><dt class="spec type" id="type-notfound"><a href="#type-notfound" class="anchor"></a><code><span class="keyword">type </span>notfound</code><code><span class="keyword"> = </span><a href="index.html#type-inv">inv</a></code></dt><dt class="spec type" id="type-version"><a href="#type-version" class="anchor"></a><code><span class="keyword">type </span>version</code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-version.version" class="anchored"><td class="def field"><a href="#type-version.version" class="anchor"></a><code>version : Stdint.int32;</code></td></tr><tr id="type-version.services" class="anchored"><td class="def field"><a href="#type-version.services" class="anchor"></a><code>services : Stdint.int64;</code></td></tr><tr id="type-version.time" class="anchored"><td class="def field"><a href="#type-version.time" class="anchor"></a><code>time : float;</code></td></tr><tr id="type-version.addr_recv" class="anchored"><td class="def field"><a href="#type-version.addr_recv" class="anchor"></a><code>addr_recv : <a href="index.html#type-addr">addr</a>;</code></td></tr><tr id="type-version.addr_from" class="anchored"><td class="def field"><a href="#type-version.addr_from" class="anchor"></a><code>addr_from : <a href="index.html#type-addr">addr</a>;</code></td></tr><tr id="type-version.nonce" class="anchored"><td class="def field"><a href="#type-version.nonce" class="anchor"></a><code>nonce : Stdint.int64;</code></td></tr><tr id="type-version.user_agent" class="anchored"><td class="def field"><a href="#type-version.user_agent" class="anchor"></a><code>user_agent : string;</code></td></tr><tr id="type-version.start_height" class="anchored"><td class="def field"><a href="#type-version.start_height" class="anchor"></a><code>start_height : Stdint.int32;</code></td></tr><tr id="type-version.relay" class="anchored"><td class="def field"><a href="#type-version.relay" class="anchor"></a><code>relay : bool;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-getheaders"><a href="#type-getheaders" class="anchor"></a><code><span class="keyword">type </span>getheaders</code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-getheaders.version" class="anchored"><td class="def field"><a href="#type-getheaders.version" class="anchor"></a><code>version : Stdint.int32;</code></td></tr><tr id="type-getheaders.hashes" class="anchored"><td class="def field"><a href="#type-getheaders.hashes" class="anchor"></a><code>hashes : <a href="../Hash/index.html#type-t">Hash.t</a> list;</code></td></tr><tr id="type-getheaders.stop" class="anchored"><td class="def field"><a href="#type-getheaders.stop" class="anchor"></a><code>stop : <a href="../Hash/index.html#type-t">Hash.t</a>;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-getblocks"><a href="#type-getblocks" class="anchor"></a><code><span class="keyword">type </span>getblocks</code><code><span class="keyword"> = </span><a href="index.html#type-getheaders">getheaders</a></code></dt><dt class="spec type" id="type-headers"><a href="#type-headers" class="anchor"></a><code><span class="keyword">type </span>headers</code><code><span class="keyword"> = </span><a href="../Block/Header/index.html#type-t">Block.Header.t</a> list</code></dt><dt class="spec type" id="type-ping"><a href="#type-ping" class="anchor"></a><code><span class="keyword">type </span>ping</code><code><span class="keyword"> = </span>Stdint.int64</code></dt><dt class="spec type" id="type-pong"><a href="#type-pong" class="anchor"></a><code><span class="keyword">type </span>pong</code><code><span class="keyword"> = </span>Stdint.int64</code></dt><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type </span>t</code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-t.INVALID" class="anchored"><td class="def constructor"><a href="#type-t.INVALID" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">INVALID</span></code></td></tr><tr id="type-t.VERSION" class="anchored"><td class="def constructor"><a href="#type-t.VERSION" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">VERSION</span><span class="keyword"> of </span><a href="index.html#type-version">version</a></code></td></tr><tr id="type-t.VERACK" class="anchored"><td class="def constructor"><a href="#type-t.VERACK" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">VERACK</span></code></td></tr><tr id="type-t.PING" class="anchored"><td class="def constructor"><a href="#type-t.PING" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">PING</span><span class="keyword"> of </span><a href="index.html#type-ping">ping</a></code></td></tr><tr id="type-t.PONG" class="anchored"><td class="def constructor"><a href="#type-t.PONG" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">PONG</span><span class="keyword"> of </span><a href="index.html#type-pong">pong</a></code></td></tr><tr id="type-t.INV" class="anchored"><td class="def constructor"><a href="#type-t.INV" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">INV</span><span class="keyword"> of </span><a href="index.html#type-inv">inv</a></code></td></tr><tr id="type-t.ADDR" class="anchored"><td class="def constructor"><a href="#type-t.ADDR" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">ADDR</span></code></td></tr><tr id="type-t.GETDATA" class="anchored"><td class="def constructor"><a href="#type-t.GETDATA" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">GETDATA</span><span class="keyword"> of </span><a href="index.html#type-inv">inv</a></code></td></tr><tr id="type-t.NOTFOUND" class="anchored"><td class="def constructor"><a href="#type-t.NOTFOUND" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">NOTFOUND</span><span class="keyword"> of </span><a href="index.html#type-notfound">notfound</a></code></td></tr><tr id="type-t.GETBLOCKS" class="anchored"><td class="def constructor"><a href="#type-t.GETBLOCKS" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">GETBLOCKS</span><span class="keyword"> of </span><a href="index.html#type-getblocks">getblocks</a></code></td></tr><tr id="type-t.GETHEADERS" class="anchored"><td class="def constructor"><a href="#type-t.GETHEADERS" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">GETHEADERS</span><span class="keyword"> of </span><a href="index.html#type-getheaders">getheaders</a></code></td></tr><tr id="type-t.TX" class="anchored"><td class="def constructor"><a href="#type-t.TX" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">TX</span><span class="keyword"> of </span><a href="../Tx/index.html#type-t">Tx.t</a></code></td></tr><tr id="type-t.BLOCK" class="anchored"><td class="def constructor"><a href="#type-t.BLOCK" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">BLOCK</span><span class="keyword"> of </span><a href="../Block_lazy/index.html#type-t">Block_lazy.t</a></code></td></tr><tr id="type-t.HEADERS" class="anchored"><td class="def constructor"><a href="#type-t.HEADERS" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">HEADERS</span><span class="keyword"> of </span><a href="index.html#type-headers">headers</a></code></td></tr><tr id="type-t.GETADDR" class="anchored"><td class="def constructor"><a href="#type-t.GETADDR" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">GETADDR</span></code></td></tr><tr id="type-t.MEMPOOL" class="anchored"><td class="def constructor"><a href="#type-t.MEMPOOL" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">MEMPOOL</span></code></td></tr><tr id="type-t.REJECT" class="anchored"><td class="def constructor"><a href="#type-t.REJECT" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">REJECT</span></code></td></tr><tr id="type-t.FEEFILTER" class="anchored"><td class="def constructor"><a href="#type-t.FEEFILTER" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">FEEFILTER</span><span class="keyword"> of </span>Stdint.Uint64.t</code></td></tr><tr id="type-t.SENDHEADERS" class="anchored"><td class="def constructor"><a href="#type-t.SENDHEADERS" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">SENDHEADERS</span></code></td></tr><tr id="type-t.FILTERLOAD" class="anchored"><td class="def constructor"><a href="#type-t.FILTERLOAD" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">FILTERLOAD</span></code></td></tr><tr id="type-t.FILTERADD" class="anchored"><td class="def constructor"><a href="#type-t.FILTERADD" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">FILTERADD</span></code></td></tr><tr id="type-t.FILTERCLEAR" class="anchored"><td class="def constructor"><a href="#type-t.FILTERCLEAR" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">FILTERCLEAR</span></code></td></tr><tr id="type-t.MERKLEBLOCK" class="anchored"><td class="def constructor"><a href="#type-t.MERKLEBLOCK" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">MERKLEBLOCK</span></code></td></tr><tr id="type-t.ALERT" class="anchored"><td class="def constructor"><a href="#type-t.ALERT" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">ALERT</span></code></td></tr></table></dt></dl><dl><dt class="spec value" id="val-string_of_command"><a href="#val-string_of_command" class="anchor"></a><code><span class="keyword">val </span>string_of_command : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dd><p><code>string_of_command m</code> returns the command name of the message</p></dd></dl><dl><dt class="spec value" id="val-parse"><a href="#val-parse" class="anchor"></a><code><span class="keyword">val </span>parse : <a href="index.html#type-header">header</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>parse h data</code> parses <code>data</code> and returns the message</p></dd></dl><dl><dt class="spec value" id="val-parse_header"><a href="#val-parse_header" class="anchor"></a><code><span class="keyword">val </span>parse_header : string <span>&#45;&gt;</span> <a href="index.html#type-header">header</a></code></dt><dd><p><code>parse_header h</code> parses the header <code>h</code></p></dd></dl><dl><dt class="spec value" id="val-bitstring_of_addr"><a href="#val-bitstring_of_addr" class="anchor"></a><code><span class="keyword">val </span>bitstring_of_addr : <a href="index.html#type-addr">addr</a> <span>&#45;&gt;</span> Bitstring.t</code></dt><dd><p><code>bitstring_of_addr addr</code> returns the bitstring of an address <code>addr</code></p></dd></dl><dl><dt class="spec value" id="val-serialize_header"><a href="#val-serialize_header" class="anchor"></a><code><span class="keyword">val </span>serialize_header : <a href="index.html#type-header">header</a> <span>&#45;&gt;</span> string</code></dt><dd><p><code>serialize_header h</code> serializes the message header <code>h</code></p></dd></dl><dl><dt class="spec value" id="val-serialize_message"><a href="#val-serialize_message" class="anchor"></a><code><span class="keyword">val </span>serialize_message : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dd><p><code>serialize_message m</code> serializes the message <code>m</code></p></dd></dl><dl><dt class="spec value" id="val-serialize"><a href="#val-serialize" class="anchor"></a><code><span class="keyword">val </span>serialize : <a href="../Params/index.html#type-t">Params.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dd><p><code>serialize p m</code> serializes the message <code>m</code> encapsulating it with the header comptabile with params <code>p</code></p></dd></dl></div></body></html>